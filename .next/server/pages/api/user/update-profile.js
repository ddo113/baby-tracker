"use strict";(()=>{var e={};e.id=321,e.ids=[321],e.modules={1649:e=>{e.exports=require("next-auth/react")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7750:(e,t,a)=>{a.r(t),a.d(t,{config:()=>l,default:()=>d,routeModule:()=>p});var r={};a.r(r),a.d(r,{default:()=>handler});var s=a(1802),i=a(7153),n=a(6249),o=a(1649),u=a(2995);async function handler(e,t){if("PUT"!==e.method)return t.status(405).json({message:"Method not allowed"});try{let a=await (0,o.getSession)({req:e});if(!a)return t.status(401).json({message:"Not authenticated"});let{name:r,email:s}=e.body,i=await u.Z.user.update({where:{id:a.user.id},data:{name:r,email:s}});t.status(200).json(i)}catch(e){console.error("Profile update error:",e),t.status(500).json({message:"Something went wrong"})}}let d=(0,n.l)(r,"default"),l=(0,n.l)(r,"config"),p=new s.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/user/update-profile",pathname:"/api/user/update-profile",bundlePath:"",filename:""},userland:r})},2995:(e,t,a)=>{a.d(t,{Z:()=>i});let r=require("@prisma/client"),s=global.prisma||new r.PrismaClient,i=s}};var t=require("../../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222],()=>__webpack_exec__(7750));module.exports=a})();